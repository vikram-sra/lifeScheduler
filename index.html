<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Schedule">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="application-name" content="Schedule">

    <!-- Homescreen Icon (inline SVG as data URI) -->
    <link rel="apple-touch-icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'%3E%3Crect width='180' height='180' rx='40' fill='%231a1a2e'/%3E%3Crect x='20' y='40' width='140' height='100' rx='10' fill='%2316213e' stroke='%2300d9ff' stroke-width='2'/%3E%3Crect x='30' y='55' width='25' height='8' rx='2' fill='%2300d9ff'/%3E%3Crect x='30' y='70' width='120' height='6' rx='2' fill='%232a2a4a'/%3E%3Crect x='30' y='82' width='120' height='6' rx='2' fill='%232a2a4a'/%3E%3Crect x='30' y='94' width='60' height='6' rx='2' fill='%23ffe66d'/%3E%3Crect x='30' y='106' width='80' height='6' rx='2' fill='%23ff4757'/%3E%3Crect x='30' y='118' width='40' height='6' rx='2' fill='%232a2a4a'/%3E%3Ctext x='90' y='32' text-anchor='middle' fill='%2300d9ff' font-family='sans-serif' font-size='14' font-weight='bold'%3ESCHEDULE%3C/text%3E%3C/svg%3E">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'%3E%3Crect width='180' height='180' rx='40' fill='%231a1a2e'/%3E%3Crect x='20' y='40' width='140' height='100' rx='10' fill='%2316213e' stroke='%2300d9ff' stroke-width='2'/%3E%3Crect x='30' y='55' width='25' height='8' rx='2' fill='%2300d9ff'/%3E%3Crect x='30' y='70' width='120' height='6' rx='2' fill='%232a2a4a'/%3E%3Crect x='30' y='82' width='120' height='6' rx='2' fill='%232a2a4a'/%3E%3Crect x='30' y='94' width='60' height='6' rx='2' fill='%23ffe66d'/%3E%3Crect x='30' y='106' width='80' height='6' rx='2' fill='%23ff4757'/%3E%3Crect x='30' y='118' width='40' height='6' rx='2' fill='%232a2a4a'/%3E%3Ctext x='90' y='32' text-anchor='middle' fill='%2300d9ff' font-family='sans-serif' font-size='14' font-weight='bold'%3ESCHEDULE%3C/text%3E%3C/svg%3E">

    <title>Weekly Schedule</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #1a1a2e;
            color: #ffffff;
            padding: 12px;
            display: flex;
            flex-direction: column;
        }

        .schedule-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .table-wrapper {
            flex: 1;
            overflow-x: auto;
            overflow-y: hidden;
            position: relative;
        }

        table {
            min-width: 1000px;
            width: 1000px;
            height: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background-color: #16213e;
            table-layout: fixed;
        }

        th,
        td {
            padding: 4px 8px;
            text-align: center;
            border: 1px solid #2a2a4a;
            font-size: 13px;
            overflow: hidden;
            white-space: normal;
            word-wrap: break-word;
            transition: all 0.2s ease;
            vertical-align: middle;
        }

        th {
            background-color: #0f3460;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        /* Frozen columns styling */
        th:nth-child(1),
        td:nth-child(1) {
            position: sticky;
            left: 0;
            z-index: 2;
            min-width: 70px;
            width: 70px;
            background-color: #1a1a3e;
        }

        th:nth-child(2),
        td:nth-child(2) {
            position: sticky;
            left: 70px;
            z-index: 2;
            min-width: 100px;
            width: 100px;
            background-color: #2a2a5e;
            box-shadow: 4px 0 8px rgba(0, 0, 0, 0.2);
        }

        /* Header row frozen columns need higher z-index */
        thead th:nth-child(1),
        thead th:nth-child(2) {
            z-index: 11;
        }

        thead th:nth-child(2) {
            box-shadow: 4px 0 8px rgba(0, 0, 0, 0.3);
        }

        /* Day columns */
        th:nth-child(n+3),
        td:nth-child(n+3) {
            min-width: 110px;
        }

        .time-col {
            background-color: #1a1a3e;
            font-weight: 500;
            color: #7ec8e3;
            white-space: nowrap;
            font-size: 12px;
        }

        .rituals-col {
            background-color: #2a2a5e;
            color: #ffd700;
            font-weight: 500;
        }

        .day-header {
            background: linear-gradient(135deg, #e94560, #c73e54);
            color: white;
            font-size: 12px;
            padding: 10px 8px;
        }

        /* Today highlight */
        .today-header {
            background: linear-gradient(135deg, #0a2a4c, #1a3a5c) !important;
            box-shadow: 0 0 20px rgba(0, 217, 255, 0.4), inset 0 0 15px rgba(0, 217, 255, 0.3);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0, 217, 255, 0.4);
        }

        .today-header .date-display {
            display: block;
            font-size: 10px;
            font-weight: 600;
            color: #00d9ff;
            margin-top: 2px;
            text-shadow: 0 0 8px rgba(0, 217, 255, 0.6);
        }

        .today-header .month-progress {
            display: block;
            font-size: 9px;
            font-weight: 500;
            color: #7ec8e3;
            margin-top: 1px;
        }

        /* Day progress bar in header - matches time progress style */
        .day-progress-fill {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            background: linear-gradient(90deg, rgba(0, 217, 255, 0.5), rgba(0, 217, 255, 0.25));
            z-index: 0;
            pointer-events: none;
            transition: width 1s linear;
            border-radius: 0 4px 4px 0;
            overflow: hidden;
        }

        .day-progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: progressShimmer 4s ease-in-out infinite;
        }

        .today-header>*:not(.day-progress-fill) {
            position: relative;
            z-index: 1;
        }

        .today {
            background-color: rgba(0, 217, 255, 0.15) !important;
        }

        /* Current time row highlight */
        .current-time-row td {
            position: relative;
            background-color: rgba(0, 217, 255, 0.25) !important;
            box-shadow: inset 0 0 15px rgba(0, 217, 255, 0.3);
        }

        .current-time-row td.time-col {
            background: linear-gradient(135deg, #0a2a4c, #1a3a5c) !important;
            color: #fff !important;
            position: sticky !important;
            left: 0 !important;
            z-index: 5 !important;
        }

        .current-time-row td.rituals-col {
            background: linear-gradient(135deg, #1a3a5c, #1f4a6c) !important;
            box-shadow: inset 0 0 20px rgba(0, 217, 255, 0.4), 4px 0 8px rgba(0, 0, 0, 0.3) !important;
            position: sticky !important;
            left: 70px !important;
            z-index: 5 !important;
            border-right: 2px solid rgba(0, 217, 255, 0.5) !important;
        }

        .current-time-row td::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00d9ff, #ff6b6b, #00d9ff);
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.6;
            }

            50% {
                opacity: 1;
            }
        }

        /* Live time display */
        .live-time {
            display: block;
            font-size: 10px;
            color: #00d9ff;
            font-weight: 600;
            margin-top: 2px;
            text-shadow: 0 0 8px rgba(0, 217, 255, 0.6);
            animation: liveTimePulse 3s ease-in-out infinite;
        }

        @keyframes liveTimePulse {

            0%,
            100% {
                opacity: 0.8;
            }

            50% {
                opacity: 1;
            }
        }

        /* Progress fill for current time cell */
        .time-progress-fill {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            background: linear-gradient(90deg, rgba(0, 217, 255, 0.5), rgba(0, 217, 255, 0.25));
            z-index: 0;
            pointer-events: none;
            transition: width 1s linear;
            border-radius: 0 4px 4px 0;
            overflow: hidden;
        }

        .time-progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: progressShimmer 4s ease-in-out infinite;
        }

        @keyframes progressShimmer {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        .current-time-row td.time-col {
            position: sticky !important;
            left: 0 !important;
            z-index: 5 !important;
            overflow: hidden;
        }

        .current-time-row td.time-col>*:not(.time-progress-fill) {
            position: relative;
            z-index: 1;
        }

        .monday {
            background-color: rgba(233, 69, 96, 0.08);
        }

        .tuesday {
            background-color: rgba(0, 173, 181, 0.08);
        }

        .wednesday {
            background-color: rgba(233, 69, 96, 0.08);
        }

        .thursday {
            background-color: rgba(0, 173, 181, 0.08);
        }

        .friday {
            background-color: rgba(233, 69, 96, 0.08);
        }

        .saturday {
            background-color: rgba(255, 215, 0, 0.08);
        }

        .sunday {
            background-color: rgba(255, 215, 0, 0.08);
        }

        .activity-paint {
            color: #ffe66d;
            font-weight: 700;
            background: linear-gradient(135deg, rgba(255, 230, 109, 0.25), rgba(255, 230, 109, 0.15)) !important;
            box-shadow: inset 0 0 20px rgba(255, 230, 109, 0.3), 0 0 10px rgba(255, 230, 109, 0.2);
            border: 1px solid rgba(255, 230, 109, 0.4) !important;
            text-shadow: 0 0 8px rgba(255, 230, 109, 0.5);
            animation: paintGlow 5s ease-in-out infinite;
        }

        @keyframes paintGlow {

            0%,
            100% {
                box-shadow: inset 0 0 20px rgba(255, 230, 109, 0.3), 0 0 10px rgba(255, 230, 109, 0.2);
            }

            50% {
                box-shadow: inset 0 0 25px rgba(255, 230, 109, 0.4), 0 0 15px rgba(255, 230, 109, 0.35);
            }
        }

        @keyframes gymGlow {

            0%,
            100% {
                box-shadow: inset 0 0 20px rgba(255, 71, 87, 0.3), 0 0 10px rgba(255, 71, 87, 0.2);
            }

            50% {
                box-shadow: inset 0 0 25px rgba(255, 71, 87, 0.4), 0 0 15px rgba(255, 71, 87, 0.35);
            }
        }

        .activity-work {
            color: #4ecdc4;
        }

        .activity-gym {
            color: #ff4757;
            font-weight: 700;
            background: linear-gradient(135deg, rgba(255, 71, 87, 0.25), rgba(255, 107, 107, 0.15)) !important;
            box-shadow: inset 0 0 20px rgba(255, 71, 87, 0.3), 0 0 10px rgba(255, 71, 87, 0.2);
            border: 1px solid rgba(255, 71, 87, 0.4) !important;
            text-shadow: 0 0 8px rgba(255, 71, 87, 0.5);
            animation: gymGlow 5s ease-in-out infinite;
        }

        .activity-meal {
            color: #95e1d3;
        }

        .activity-sleep {
            color: #a29bfe;
        }

        .activity-meditate {
            color: #fd79a8;
        }

        .activity-water {
            color: #74b9ff;
            font-weight: bold;
        }

        .activity-commute {
            color: #ffeaa7;
        }

        .activity-hike {
            color: #55efc4;
        }

        .activity-clean {
            color: #81ecec;
        }

        /* Icons */
        .icon {
            margin-right: 6px;
            font-size: 11px;
            font-weight: 600;
            opacity: 0.9;
        }

        /* Hover effects */
        tr:hover td:not(.time-col):not(.rituals-col) {
            background-color: rgba(255, 255, 255, 0.08);
            transform: scale(1.01);
        }

        td:hover {
            box-shadow: inset 0 0 0 2px rgba(0, 217, 255, 0.3);
        }

        /* Scrollbar styling */
        .table-wrapper::-webkit-scrollbar {
            height: 8px;
        }

        .table-wrapper::-webkit-scrollbar-track {
            background: #1a1a3e;
            border-radius: 4px;
        }

        .table-wrapper::-webkit-scrollbar-thumb {
            background: linear-gradient(90deg, #e94560, #0f3460);
            border-radius: 4px;
        }

        .table-wrapper::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(90deg, #ff6b6b, #1a5276);
        }

        /* Mobile-specific styles */
        @media screen and (max-width: 768px) {
            body {
                padding: 8px;
                padding-top: env(safe-area-inset-top, 8px);
                padding-bottom: env(safe-area-inset-bottom, 8px);
                padding-left: env(safe-area-inset-left, 8px);
                padding-right: env(safe-area-inset-right, 8px);
                touch-action: pan-x pan-y;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                user-select: none;
            }

            .schedule-container {
                border-radius: 8px;
            }

            th,
            td {
                padding: 6px 4px;
                font-size: 11px;
            }

            .time-col {
                font-size: 10px;
            }

            .live-time {
                font-size: 8px;
            }

            .today-header .date-display {
                font-size: 8px;
            }

            .today-header .month-progress {
                font-size: 7px;
            }

            .icon {
                font-size: 9px;
                margin-right: 3px;
            }

            th:nth-child(1),
            td:nth-child(1) {
                min-width: 55px;
                width: 55px;
            }

            th:nth-child(2),
            td:nth-child(2) {
                left: 55px;
                min-width: 70px;
                width: 70px;
            }

            .current-time-row td.time-col {
                left: 0 !important;
            }

            .current-time-row td.rituals-col {
                left: 55px !important;
            }

            /* Disable hover effects on touch devices */
            tr:hover td:not(.time-col):not(.rituals-col) {
                background-color: inherit;
                transform: none;
            }

            td:hover {
                box-shadow: none;
            }
        }

        /* Prevent text selection and zoom gestures */
        * {
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>

<body>
    <div class="schedule-container">
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>Rituals</th>
                        <th class="day-header" data-day="1">Monday</th>
                        <th class="day-header" data-day="2">Tuesday</th>
                        <th class="day-header" data-day="3">Wednesday</th>
                        <th class="day-header" data-day="4">Thursday</th>
                        <th class="day-header" data-day="5">Friday</th>
                        <th class="day-header" data-day="6">Saturday</th>
                        <th class="day-header" data-day="0">Sunday</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-time="7.5">
                        <td class="time-col">7:30 AM</td>
                        <td class="rituals-col activity-water"><span class="icon">◈</span>Water</td>
                        <td class="monday"><span class="icon">●</span>Wake up</td>
                        <td class="tuesday"><span class="icon">●</span>Wake up</td>
                        <td class="wednesday"><span class="icon">●</span>Wake up</td>
                        <td class="thursday"><span class="icon">●</span>Wake up</td>
                        <td class="friday"><span class="icon">●</span>Wake up</td>
                        <td class="saturday"><span class="icon">●</span>Wake up</td>
                        <td class="sunday"><span class="icon">●</span>Wake up</td>
                    </tr>
                    <tr data-time="8">
                        <td class="time-col">8:00 AM</td>
                        <td class="rituals-col activity-meditate"><span class="icon">◉</span>Meditate</td>
                        <td class="monday activity-meditate"><span class="icon">◉</span>Meditate</td>
                        <td class="tuesday activity-meditate"><span class="icon">◉</span>Meditate</td>
                        <td class="wednesday activity-meditate"><span class="icon">◉</span>Meditate</td>
                        <td class="thursday activity-meditate"><span class="icon">◉</span>Meditate</td>
                        <td class="friday activity-meditate"><span class="icon">◉</span>Meditate</td>
                        <td class="saturday activity-meditate"><span class="icon">◉</span>Meditate</td>
                        <td class="sunday activity-meditate"><span class="icon">◉</span>Meditate</td>
                    </tr>
                    <tr data-time="9">
                        <td class="time-col">9:00 AM</td>
                        <td class="rituals-col"></td>
                        <td class="monday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="tuesday activity-work"><span class="icon">■</span>Office</td>
                        <td class="wednesday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="thursday activity-work"><span class="icon">■</span>Office</td>
                        <td class="friday activity-gym"><span class="icon">▲</span>Home Workout</td>
                        <td class="saturday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="sunday activity-paint"><span class="icon">▣</span>Paint</td>
                    </tr>
                    <tr data-time="9.5">
                        <td class="time-col">9:30 AM</td>
                        <td class="rituals-col"></td>
                        <td class="monday activity-work"><span class="icon">■</span>Work</td>
                        <td class="tuesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="wednesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="thursday activity-work"><span class="icon">■</span>Work</td>
                        <td class="friday activity-work"><span class="icon">■</span>Work</td>
                        <td class="saturday activity-gym"><span class="icon">▲</span>GYM</td>
                        <td class="sunday"></td>
                    </tr>
                    <tr data-time="11">
                        <td class="time-col">11:00 AM</td>
                        <td class="rituals-col">↑</td>
                        <td class="monday">↑</td>
                        <td class="tuesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="wednesday">↑</td>
                        <td class="thursday activity-work"><span class="icon">■</span>Work</td>
                        <td class="friday activity-work"><span class="icon">■</span>Work</td>
                        <td class="saturday">↑</td>
                        <td class="sunday">↑</td>
                    </tr>
                    <tr data-time="12">
                        <td class="time-col">12:00 PM</td>
                        <td class="rituals-col activity-gym"><span class="icon">▲</span>GYM</td>
                        <td class="monday activity-gym"><span class="icon">▲</span>GYM</td>
                        <td class="tuesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="wednesday activity-gym"><span class="icon">▲</span>GYM</td>
                        <td class="thursday activity-work"><span class="icon">■</span>Work</td>
                        <td class="friday activity-gym"><span class="icon">▲</span>GYM</td>
                        <td class="saturday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="sunday activity-hike"><span class="icon">◆</span>Hike</td>
                    </tr>
                    <tr data-time="13">
                        <td class="time-col">1:00 PM</td>
                        <td class="rituals-col activity-water"><span class="icon">◈</span>Water</td>
                        <td class="monday"></td>
                        <td class="tuesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="wednesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="thursday"></td>
                        <td class="friday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="saturday activity-clean"><span class="icon">○</span>Clean</td>
                        <td class="sunday"></td>
                    </tr>
                    <tr data-time="14">
                        <td class="time-col">2:00 PM</td>
                        <td class="rituals-col activity-meal"><span class="icon">◇</span>Meal 1</td>
                        <td class="monday activity-meal"><span class="icon">◇</span>Meal 1</td>
                        <td class="tuesday activity-meal"><span class="icon">◇</span>Meal 1</td>
                        <td class="wednesday activity-meal"><span class="icon">◇</span>Meal 1</td>
                        <td class="thursday activity-meal"><span class="icon">◇</span>Meal 1</td>
                        <td class="friday activity-meal"><span class="icon">◇</span>Meal 1</td>
                        <td class="saturday activity-meal"><span class="icon">◇</span>Meal 1</td>
                        <td class="sunday activity-meal"><span class="icon">◇</span>Meal 1</td>
                    </tr>
                    <tr data-time="15">
                        <td class="time-col">3:00 PM</td>
                        <td class="rituals-col activity-water"><span class="icon">◈</span>Water</td>
                        <td class="monday activity-work"><span class="icon">■</span>Work</td>
                        <td class="tuesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="wednesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="thursday activity-work"><span class="icon">■</span>Work</td>
                        <td class="friday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="saturday">Duar</td>
                        <td class="sunday"></td>
                    </tr>
                    <tr data-time="16">
                        <td class="time-col">4:00 PM</td>
                        <td class="rituals-col activity-water"><span class="icon">◈</span>Water</td>
                        <td class="monday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="tuesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="wednesday activity-work"><span class="icon">■</span>Work</td>
                        <td class="thursday activity-work"><span class="icon">■</span>Work</td>
                        <td class="friday"></td>
                        <td class="saturday"></td>
                        <td class="sunday"></td>
                    </tr>
                    <tr data-time="17">
                        <td class="time-col">5:00 PM</td>
                        <td class="rituals-col activity-meal"><span class="icon">◇</span>Meal 2</td>
                        <td class="monday activity-meal"><span class="icon">◇</span>Meal 2</td>
                        <td class="tuesday activity-meal"><span class="icon">◇</span>Meal 2</td>
                        <td class="wednesday activity-meal"><span class="icon">◇</span>Meal 2</td>
                        <td class="thursday activity-meal"><span class="icon">◇</span>Meal 2</td>
                        <td class="friday activity-meal"><span class="icon">◇</span>Meal 2</td>
                        <td class="saturday activity-meal"><span class="icon">◇</span>Meal 2</td>
                        <td class="sunday activity-meal"><span class="icon">◇</span>Meal 2</td>
                    </tr>
                    <tr data-time="17.5">
                        <td class="time-col">5:30 PM</td>
                        <td class="rituals-col"></td>
                        <td class="monday"></td>
                        <td class="tuesday activity-commute"><span class="icon">→</span>Commute</td>
                        <td class="wednesday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="thursday activity-commute"><span class="icon">→</span>Commute</td>
                        <td class="friday"></td>
                        <td class="saturday">Duar</td>
                        <td class="sunday"><span class="icon">☐</span>The Plan</td>
                    </tr>
                    <tr data-time="18">
                        <td class="time-col">6:00 PM</td>
                        <td class="rituals-col"></td>
                        <td class="monday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="tuesday">Duar</td>
                        <td class="wednesday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="thursday">Duar</td>
                        <td class="friday"></td>
                        <td class="saturday"></td>
                        <td class="sunday"><span class="icon">$</span>Finances</td>
                    </tr>
                    <tr data-time="20">
                        <td class="time-col">8:00 PM</td>
                        <td class="rituals-col activity-water"><span class="icon">◈</span>Water</td>
                        <td class="monday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="tuesday"></td>
                        <td class="wednesday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="thursday"></td>
                        <td class="friday"></td>
                        <td class="saturday"></td>
                        <td class="sunday"><span class="icon">◇</span>Food Prep</td>
                    </tr>
                    <tr data-time="21">
                        <td class="time-col">9:00 PM</td>
                        <td class="rituals-col activity-meal"><span class="icon">◇</span>Meal 3</td>
                        <td class="monday activity-meal"><span class="icon">◇</span>Dinner</td>
                        <td class="tuesday activity-meal"><span class="icon">◇</span>Dinner</td>
                        <td class="wednesday activity-meal"><span class="icon">◇</span>Dinner</td>
                        <td class="thursday activity-meal"><span class="icon">◇</span>Dinner</td>
                        <td class="friday activity-meal"><span class="icon">◇</span>Dinner</td>
                        <td class="saturday activity-meal"><span class="icon">◇</span>Dinner</td>
                        <td class="sunday activity-meal"><span class="icon">◇</span>Dinner</td>
                    </tr>
                    <tr data-time="22">
                        <td class="time-col">10:00 PM</td>
                        <td class="rituals-col activity-water"><span class="icon">◈</span>Water</td>
                        <td class="monday"><span class="icon">⌂</span>Home Things</td>
                        <td class="tuesday activity-gym"><span class="icon">▲</span>GYM</td>
                        <td class="wednesday activity-paint"><span class="icon">▣</span>Paint</td>
                        <td class="thursday"></td>
                        <td class="friday"><span class="icon">☾</span>De-Stimulate</td>
                        <td class="saturday"></td>
                        <td class="sunday"></td>
                    </tr>
                    <tr data-time="23">
                        <td class="time-col">11:00 PM</td>
                        <td class="rituals-col activity-sleep"><span class="icon">☆</span>Sleep</td>
                        <td class="monday activity-sleep"><span class="icon">☆</span>Sleep</td>
                        <td class="tuesday activity-sleep"><span class="icon">☆</span>Sleep</td>
                        <td class="wednesday activity-sleep"><span class="icon">☆</span>Sleep</td>
                        <td class="thursday activity-sleep"><span class="icon">☆</span>Sleep</td>
                        <td class="friday activity-sleep"><span class="icon">☆</span>Sleep</td>
                        <td class="saturday activity-sleep"><span class="icon">☆</span>Sleep</td>
                        <td class="sunday activity-sleep"><span class="icon">☆</span>Sleep</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Highlight today's column
        function highlightToday() {
            const now = new Date();
            const today = now.getDay(); // 0 = Sunday, 1 = Monday, etc.
            const currentDate = now.getDate();
            const currentMonth = now.getMonth();
            const currentYear = now.getFullYear();

            // Calculate day progress (percentage of day elapsed)
            const dayProgress = ((now.getHours() * 60 + now.getMinutes()) / (24 * 60)) * 100;

            // Calculate month progress
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const monthProgress = Math.round((currentDate / daysInMonth) * 100);

            // Format date
            const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const dateStr = monthNames[currentMonth] + ' ' + currentDate;

            // Highlight header
            const headers = document.querySelectorAll('th[data-day]');
            headers.forEach(header => {
                if (parseInt(header.dataset.day) === today) {
                    header.classList.add('today-header');

                    // Add date and month progress display
                    if (!header.querySelector('.date-display')) {
                        const dayName = header.textContent;
                        header.innerHTML = dayName +
                            '<span class="date-display">' + dateStr + '</span>' +
                            '<span class="month-progress">Month: ' + monthProgress + '%</span>';

                        // Add month progress bar
                        const dayProgressBar = document.createElement('div');
                        dayProgressBar.className = 'day-progress-fill';
                        dayProgressBar.style.width = monthProgress + '%';
                        header.appendChild(dayProgressBar);
                    } else {
                        // Update existing progress bar
                        const dayProgressBar = header.querySelector('.day-progress-fill');
                        if (dayProgressBar) {
                            dayProgressBar.style.width = monthProgress + '%';
                        }
                    }
                }
            });

            // Highlight column cells
            const dayClasses = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
            const todayClass = dayClasses[today];

            document.querySelectorAll(`td.${todayClass}`).forEach(cell => {
                cell.classList.add('today');
            });
        }

        // Highlight current time row
        function highlightCurrentTime() {
            const now = new Date();
            const currentHour = now.getHours() + now.getMinutes() / 60;

            const rows = document.querySelectorAll('tr[data-time]');
            let closestRow = null;
            let closestDiff = Infinity;
            let nextRowTime = null;

            // Find all row times sorted
            const rowTimes = [];
            rows.forEach(row => {
                rowTimes.push(parseFloat(row.dataset.time));
            });
            rowTimes.sort((a, b) => a - b);

            rows.forEach(row => {
                const rowTime = parseFloat(row.dataset.time);
                const diff = Math.abs(currentHour - rowTime);

                if (diff < closestDiff && currentHour >= rowTime) {
                    closestDiff = diff;
                    closestRow = row;
                }
            });

            // Find the next row time for progress calculation
            if (closestRow) {
                const currentRowTime = parseFloat(closestRow.dataset.time);
                const currentIndex = rowTimes.indexOf(currentRowTime);
                if (currentIndex < rowTimes.length - 1) {
                    nextRowTime = rowTimes[currentIndex + 1];
                } else {
                    nextRowTime = currentRowTime + 1; // Assume 1 hour slot
                }
            }

            // Remove previous highlight and elements
            document.querySelectorAll('.current-time-row').forEach(row => {
                row.classList.remove('current-time-row');
            });
            document.querySelectorAll('.live-time').forEach(el => el.remove());
            document.querySelectorAll('.time-progress-fill').forEach(el => el.remove());

            // Add new highlight
            if (closestRow && closestDiff < 2) {
                closestRow.classList.add('current-time-row');

                // Add live time display
                const timeCell = closestRow.querySelector('.time-col');
                if (timeCell) {
                    // Create wrapper for content if needed
                    const originalContent = timeCell.innerHTML;
                    const liveTimeSpan = document.createElement('span');
                    liveTimeSpan.className = 'live-time';
                    liveTimeSpan.textContent = formatTime(now);
                    timeCell.appendChild(liveTimeSpan);

                    // Calculate progress percentage
                    const currentRowTime = parseFloat(closestRow.dataset.time);
                    const slotDuration = nextRowTime - currentRowTime;
                    const elapsed = currentHour - currentRowTime;
                    const progress = Math.min(Math.max((elapsed / slotDuration) * 100, 0), 100);

                    // Add progress fill
                    const progressFill = document.createElement('div');
                    progressFill.className = 'time-progress-fill';
                    progressFill.style.width = progress + '%';
                    timeCell.style.position = 'relative';
                    timeCell.insertBefore(progressFill, timeCell.firstChild);
                }
            }
        }

        // Format time as HH:MM AM/PM
        function formatTime(date) {
            let hours = date.getHours();
            const minutes = date.getMinutes();
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12;
            const minutesStr = minutes < 10 ? '0' + minutes : minutes;
            return hours + ':' + minutesStr + ' ' + ampm;
        }

        // Initialize
        highlightToday();
        highlightCurrentTime();

        // Update current time highlight every second for smooth live time
        setInterval(highlightCurrentTime, 1000);

        // Update day progress every minute
        setInterval(highlightToday, 60000);
    </script>
</body>

</html>